/* noUiSlider - refreshless.com/nouislider/ */
(function(f,n){f.fn.noUiSlider=function(g){function A(a){a.stopPropagation()}function m(a,b,d){f.isArray(a)||(a=[a]);f.each(a,function(a,h){"function"===typeof h&&h.call(b,d)})}function u(a){return a.data.base.data("target").is('[class*="noUi-state-"], [disabled]')}function v(a,b){b&&a.preventDefault();var d=a,p=0===a.type.indexOf("touch"),h=0===a.type.indexOf("mouse"),c=0===a.type.indexOf("MSPointer"),k,e;a=a.originalEvent;p&&(k=a.changedTouches[0].pageX,e=a.changedTouches[0].pageY);if(h||c)c||window.pageXOffset!==
n||(window.pageXOffset=document.documentElement.scrollLeft,window.pageYOffset=document.documentElement.scrollTop),k=a.clientX+window.pageXOffset,e=a.clientY+window.pageYOffset;return{pass:d.data,e:a,x:k,y:e}}function B(a){return parseFloat(this.style[a])}function C(a,b){function d(a){return a instanceof f||"string"===typeof a||!1===a}var e={handles:{r:!0,t:function(a,c){c=parseInt(c,10);return 1===c||2===c}},range:{r:!0,t:function(a,c,b){if(2!==c.length)return!1;c=[parseFloat(c[0]),parseFloat(c[1])];
if(isNaN(c[0])||!isFinite(c[0])||isNaN(c[1])||!isFinite(c[1])||"range"===b&&c[0]===c[1]||c[1]<c[0])return!1;a[b]=c;return!0}},start:{r:!0,t:function(a,c,b){return 1===a.handles?(f.isArray(c)&&(c=c[0]),c=parseFloat(c),a.start=[c],!isNaN(c)&&isFinite(c)):this.parent.range.t(a,c,b)}},connect:{t:function(a,c){return!0===c||!1===c||"lower"===c&&1===a.handles||"upper"===c&&1===a.handles}},orientation:{t:function(a,c){return"horizontal"===c||"vertical"===c}},margin:{r:!0,t:function(a,c,b){c=parseFloat(c);
a[b]=c;return!isNaN(c)&&isFinite(c)}},serialization:{r:!0,t:function(a,c){if(c.resolution)switch(c.resolution){case 1:case 0.1:case 0.01:case 0.001:case 1E-4:case 1E-5:break;default:return!1}else a.serialization.resolution=0.01;if(c.mark)return"."===c.mark||","===c.mark;a.serialization.mark=".";return c.to?1===a.handles?(f.isArray(c.to)||(c.to=[c.to]),a.serialization.to=c.to,d(c.to[0])):2===c.to.length&&d(c.to[0])&&d(c.to[1]):!1}},slide:{t:function(a,c){return"function"===typeof c}},set:{t:function(a,
c){return this.parent.slide.t(a,c)}},step:{t:function(a,c,b){return this.parent.margin.t(a,c,b)}},init:function(){var a=this;f.each(a,function(b,d){d.parent=a});delete this.init;return this}}.init();f.each(e,function(d,c){if(c.r&&!a[d]&&0!==a[d]||(a[d]||0===a[d])&&!c.t(a,a[d],d))return console&&console.log&&console.log("Slider:\t\t\t",b,"\nOption:\t\t\t",d,"\nValue:\t\t\t",a[d]),f.error("Error on noUiSlider initialisation."),!1})}function w(a,b){a=a.toFixed(b.data("decimals"));return a.replace(".",
b.data("mark"))}function t(a,b,d){var p=a.data("nui").options,h=a.data("nui").base.data(e[12]),c=a.data("nui").style;if(!f.isNumeric(b)||b===a[0].gPct(c))return!1;b=0>b?0:100<b?100:b;if(p.step&&!d){var k=s.from(p.range,p.step);b=Math.round(b/k)*k}if(b===a[0].gPct(c)||a.siblings("."+e[1]).length&&!d&&h&&(a.data("nui").number?(d=h[0][0].gPct(c)+p.margin,b=b<d?d:b):(d=h[1][0].gPct(c)-p.margin,b=b>d?d:b),b===a[0].gPct(c)))return!1;0===a.data("nui").number&&95<b?a.addClass(e[14]):a.removeClass(e[14]);
a.css(c,b+"%");a.data("store").val(w(s.is(p.range,b),a.data("nui").target));return!0}function D(a,b){var d=a.data("nui").number;if(b.to[d]instanceof f)return b.to[d].data({target:a.data("nui").target,handle:a}).on("change"+l+" blur"+l,function(){var a=[null,null];a[d]=f(this).val();f(this).data("target").val(a,{trusted:!1})}).on("change"+l,function(){m(f(this).data("handle").data("nui").options.set,f(this).data("target"))});if("string"===typeof b.to[d])return f('<input type="hidden" class="'+e[3]+
'" name="'+b.to[d]+'">').appendTo(a).change(A);if(!1===b.to[d])return{val:function(a){if(a===n)return this.handleElement.data("nui-val");this.handleElement.data("nui-val",a)},hasClass:function(){return!1},handleElement:a}}function E(a){if(a=v(a,!0)){var b=a.pass.base,d=b.data("style"),e=a.x-a.pass.startEvent.x,f="left"===d?b.width():b.height();"top"===d&&(e=a.y-a.pass.startEvent.y);e=a.pass.position+100*e/f;t(a.pass.handle,e);m(b.data("options").slide,b.data("target"))}}function x(a){if(!u(a)){var b=
a.data.base;a=a.data.handle;a.children().removeClass(e[4]);r.off(q.move);r.off(q.end);f("body").off(l);b.data("target").change();m(a.data("nui").options.set,b.data("target"))}}function F(a){if(!u(a)&&(a=v(a,!0))){var b=a.pass.handle,d=b[0].gPct(b.data("nui").style);b.children().addClass(e[4]);r.on(q.move,{startEvent:a,position:d,base:a.pass.base,handle:b},E);r.on(q.end,{base:a.pass.base,handle:b},x);f("body").on("selectstart"+l,function(){return!1})}}function G(a){x({data:{base:a.data.base,handle:a.data.handle}});
a.stopPropagation()}function H(a){if(!u(a)&&!a.data.base.find("."+e[4]).length&&(a=v(a))){var b,d,f=a.pass.base;d=a.pass.handles;var h=f.data("style");a=a["left"===h?"x":"y"];var c="left"===h?f.width():f.height(),k=[],g={left:f.offset().left,top:f.offset().top};for(b=0;b<d.length;b++)k.push({left:d[b].offset().left,top:d[b].offset().top});b=1===d.length?0:(k[0][h]+k[1][h])/2;d=1===d.length||a<b?d[0]:d[1];f.addClass(e[5]);setTimeout(function(){f.removeClass(e[5])},300);t(d,100*(a-g[h])/c);m([d.data("nui").options.slide,
d.data("nui").options.set],f.data("target"));f.data("target").change()}}function I(a,b){if(a===n){var d=[];f.each(f(this).data(e[12]),function(a,b){d.push(b.data("store").val())});return 1===d.length?d[0]:d}b=!0===b?{trigger:!0}:b||{};f.isArray(a)||(a=[a]);return this.each(function(d,h){h=f(h);f.each(f(this).data(e[12]),function(c,d){if(null!==a[c]&&a[c]!==n){var e,g;g=d.data("nui").options.range;e=a[c];b.trusted=!0;if(!1===b.trusted||1===a.length)b.trusted=!1;2===a.length&&0<=f.inArray(null,a)&&
(b.trusted=!1);"string"===f.type(e)&&(e=e.replace(",","."));e=s.to(g,parseFloat(e));e=t(d,e,b.trusted);b.trigger&&m(d.data("nui").options.set,h);e||(e=d.data("store").val(),g=s.is(g,d[0].gPct(d.data("nui").style)),e!==g&&d.data("store").val(w(g,h)))}})})}var l=".nui",r=f(document),q={start:"mousedown"+l+" touchstart"+l,move:"mousemove"+l+" touchmove"+l,end:"mouseup"+l+" touchend"+l},J=f.fn.val,e="noUi-base noUi-origin noUi-handle noUi-input noUi-active noUi-state-tap noUi-target -lower -upper noUi-connect noUi-vertical noUi-horizontal handles noUi-background noUi-z-index".split(" "),
K=[e[0]],y=[e[1]],z=[e[2]],s={to:function(a,b){b=0>a[0]?b+Math.abs(a[0]):b-a[0];return 100*b/this.len(a)},from:function(a,b){return 100*b/this.len(a)},is:function(a,b){return b*this.len(a)/100+a[0]},len:function(a){return a[0]>a[1]?a[0]-a[1]:a[1]-a[0]}};window.navigator.msPointerEnabled&&(q={start:"MSPointerDown"+l,move:"MSPointerMove"+l,end:"MSPointerUp"+l});f.fn.val=function(){return this.hasClass(e[6])?I.apply(this,arguments):J.apply(this,arguments)};return function(){return this.each(function(a,
b){b=f(b);b.addClass(e[6]);var d,l,h,c,k=f("<div/>").appendTo(b),m=[];d=K;var n=[y.concat([e[1]+e[7]]),y.concat([e[1]+e[8]])],r=[z.concat([e[2]+e[7]]),z.concat([e[2]+e[8]])];g=f.extend({handles:2,margin:0,orientation:"horizontal"},g)||{};g.serialization||(g.serialization={to:[!1,!1],resolution:0.01,mark:"."});C(g,b);g.S=g.serialization;g.connect?"lower"===g.connect?(d.push(e[9],e[9]+e[7]),n[0].push(e[13])):(d.push(e[9]+e[8],e[13]),n[0].push(e[9])):d.push(e[13]);l="vertical"===g.orientation?"top":
"left";h=g.S.resolution.toString().split(".");h="1"===h[0]?0:h[1].length;"vertical"===g.orientation?d.push(e[10]):d.push(e[11]);k.addClass(d.join(" ")).data("target",b);b.data({base:k,mark:g.S.mark,decimals:h});for(d=0;d<g.handles;d++)c=f("<div><div/></i>").appendTo(k),c.addClass(n[d].join(" ")),c.children().addClass(r[d].join(" ")),c.children().on(q.start,{base:k,handle:c},F).on(q.end,{base:k,handle:c},G),c.data("nui",{target:b,decimals:h,options:g,base:k,style:l,number:d}).data("store",D(c,g.S)),
c[0].gPct=B,m.push(c),t(c,s.to(g.range,g.start[d]));k.data({options:g,handles:m,style:l});b.data({handles:m});k.on(q.end,{base:k,handles:m},H)})}.apply(this,arguments)}})(jQuery);
